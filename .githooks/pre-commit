#!/usr/bin/env sh
# 1) Block commits that modify examples/templates/ unless ALLOW_TEMPLATE_CHANGES=1.
# 2) Run go vet ./... (lint).
# Install: make install-hooks
set -e
root="$(git rev-parse --show-toplevel)"
"$root/scripts/check-templates-unchanged.sh" --pre-commit
cd "$root" && go vet ./...
